---
layout: post
title:  "CORS"
summary: CORS 정리
author: coconut
date: 2020-11-05 7:31 PM
categories: [frontend]
tags: [cors, javascript]

---



# CORS

## 기능적 개요

> 교차 출처 리소스 공유 표준은 웹 브라우저에서 해당 정보를 읽는 것이 허용된 출처를 서버에서 설명할 수 있는 새로운 [HTTP 헤더](https://developer.mozilla.org/ko/docs/Web/HTTP/Headers)를 추가함으로써 동작합니다. 추가적으로, 서버 데이터에 부수 효과(side effect)를 일으킬 수 있는 HTTP 요청 메서드([`GET`](https://developer.mozilla.org/ko/docs/Web/HTTP/Methods/GET)을 제외한 HTTP 메서드)에 대해, CORS 명세는 브라우저가 요청을 [`OPTIONS`](https://developer.mozilla.org/ko/docs/Web/HTTP/Methods/OPTIONS) 메서드로 "프리플라이트"(preflight, 사전 전달)하여 지원하는 메서드를 요청하고, 서버의 "허가"가 떨어지면 실제 요청을 보내도록 요구하고 있습니다. 또한 서버는 클라이언트에게 요청에 "인증정보"([쿠키](https://developer.mozilla.org/ko/docs/Web/HTTP/Cookies), [HTTP 인증](https://developer.mozilla.org/ko/docs/Web/HTTP/Authentication))를 함께 보내야 한다고 알려줄 수도 있습니다.
>
> CORS 실패는 오류의 원인이지만, 보안상의 이유로 JavaScript에서는 오류의 상세 정보에 접근할 수 없으며, 알 수 있는 것은 오류가 발생했다는 사실 뿐입니다. 정확히 어떤 것이 실패했는지 알아내려면 브라우저의 콘솔을 봐야 합니다.
>
> 이후 항목에서는 시나리오와 함께, 사용한 HTTP 헤더의 상세 내용을 다룹니다.



CORS는 자바스크립트로 웹개발을 해보신분이라면 누구나 만나는 오류 중 하나입니다. 위 글을 짧게 설명하면 CORS는 서로 다른 도메인의 사이의 데이터 전송을 **허용**해주는 웹브라우저의 **기술**이자 **표준**입니다. 만약 내 브라우저의 웹 애플리케이션이 다른 도메인의 서버와 아무런 제약없이 통신할 수 있다면, 우리는 CSRF, XSS 와 같은 공격에 노출될 것 입니다.

하지만, 웹 개발을 하는 우리는 수도없이 다른 도메인의 서버와 통신을 해야합니다. 예를들면 API Gateway에 HTTP API들을 생성하는것 조차 AWS 기반의 도메인과 통신해야 한다는 것을 의미합니다. 주로 CORS오류는 수많은 API를 응답받아 처리해야 하는 프론트엔드 개발자가 자주 접합니다. 이는 백엔드 개발자와 서로 소통하여 해결하는 문제입니다.



